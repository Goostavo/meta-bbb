From ccb1ec45ea72bb23557e548675a593524e7a0754 Mon Sep 17 00:00:00 2001
From: Scott Ellis <scott@jumpnowtek.com>
Date: Fri, 13 Nov 2015 05:48:42 -0500
Subject: [PATCH 1/3] Add bbb can0 and can1 dtsi

---
 arch/arm/boot/dts/bbb-can0.dtsi | 22 ++++++++++++++++++++++
 arch/arm/boot/dts/bbb-can1.dtsi | 22 ++++++++++++++++++++++
 2 files changed, 44 insertions(+)
 create mode 100644 arch/arm/boot/dts/bbb-can0.dtsi
 create mode 100644 arch/arm/boot/dts/bbb-can1.dtsi

diff --git a/arch/arm/boot/dts/bbb-can0.dtsi b/arch/arm/boot/dts/bbb-can0.dtsi
new file mode 100644
index 0000000..366234e
--- /dev/null
+++ b/arch/arm/boot/dts/bbb-can0.dtsi
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2015 Jumpnow Technologies, LLC - http://jumpnowtek.com
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+&am33xx_pinmux {
+	can0_pins: can0_pins {
+		pinctrl-single,pins = <
+			0x17c (PIN_INPUT_PULLUP | MUX_MODE2)   /* P9.19, dcan0_rx */
+			0x178 (PIN_OUTPUT_PULLUP | MUX_MODE2)  /* P9.20, dcan0_tx */
+		>;
+	};
+};
+
+&can0 {
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&can0_pins>;
+};
diff --git a/arch/arm/boot/dts/bbb-can1.dtsi b/arch/arm/boot/dts/bbb-can1.dtsi
new file mode 100644
index 0000000..cc171bd
--- /dev/null
+++ b/arch/arm/boot/dts/bbb-can1.dtsi
@@ -0,0 +1,22 @@
+/*
+ * Copyright (C) 2015 Jumpnow Technologies, LLC - http://jumpnowtek.com
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+&am33xx_pinmux {
+	can1_pins: can1_pins {
+		pinctrl-single,pins = <
+			0x184 (PIN_INPUT_PULLUP | MUX_MODE2)   /* P9.24, dcan1_rx */
+			0x180 (PIN_OUTPUT_PULLUP | MUX_MODE2)  /* P9.26, dcan1_tx */
+		>;
+	};
+};
+
+&can1 {
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&can1_pins>;
+};
-- 
2.1.4

